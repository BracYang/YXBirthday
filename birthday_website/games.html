<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ç”Ÿæ—¥æ¸¸æˆæŒ‘æˆ˜ - èµ¢å–æƒŠå–œ</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/games.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.4/css/all.min.css">
</head>
<body>
    <div class="container games-container">
        <header>
            <h1 class="title">ç”Ÿæ—¥æ¸¸æˆæŒ‘æˆ˜</h1>
            <p class="subtitle">å®Œæˆæ‰€æœ‰æ¸¸æˆï¼Œæ”¶é›†å¥–å“ï¼Œè·å¾—æƒŠå–œï¼</p>
            <a href="index.html" class="back-btn"><i class="fas fa-arrow-left"></i> è¿”å›ä¸»é¡µ</a>
        </header>

        <section class="game-selection">
            <div class="prizes-display">
                <h3>å·²è·å¾—çš„å¥–å“</h3>
                <div class="prizes-container" id="prizes-container">
                    <!-- å¥–å“å°†é€šè¿‡JavaScriptåŠ¨æ€æ·»åŠ  -->
                    <div class="prize-placeholder" data-game="memory"><i class="fas fa-question"></i></div>
                </div>
            </div>

            <div class="games-grid">
                <div class="game-card" data-game="memory">
                    <div class="game-icon">ğŸ§ </div>
                    <h3>è®°å¿†é…å¯¹</h3>
                    <p>æµ‹è¯•ä½ çš„è®°å¿†åŠ›ï¼Œæ‰¾å‡ºç›¸åŒçš„å¡ç‰‡</p>
                    <div class="game-status" id="memory-status">æœªå®Œæˆ</div>
                    <a href="games/memory.html" class="play-btn">å¼€å§‹æ¸¸æˆ</a>
                </div>
            </div>
        </section>

        <section class="final-prize hidden" id="final-prize-section">
            <h2>æ­å–œä½ å®Œæˆæ‰€æœ‰æŒ‘æˆ˜ï¼</h2>
            <div class="final-prize-content">
                <div class="final-prize-icon"><i class="fas fa-gift"></i></div>
                <p>ä½ å·²ç»æ”¶é›†äº†æ‰€æœ‰å¥–å“ï¼Œç‚¹å‡»ä¸‹æ–¹æŒ‰é’®é¢†å–æœ€ç»ˆæƒŠå–œï¼</p>
                <a href="surprise.html" class="surprise-btn">é¢†å–æƒŠå–œ</a>
            </div>
        </section>

        <!-- <footer>
            <p>ç”¨â¤ï¸åˆ¶ä½œ | ç”Ÿæ—¥å¿«ä¹</p>
        </footer> -->
    </div>

    <script src="config.js"></script>
    <script src="js/achievements.js"></script>
    <script src="js/games.js"></script>
    <script>
        // æ£€æŸ¥æ¸¸æˆå®ŒæˆçŠ¶æ€
        function updateGameStatus() {
            const games = ['memory'];
            const statusMap = {
                'memory': 'memoryGameCompleted'
            };
            
            games.forEach(game => {
                const statusElement = document.getElementById(`${game}-status`);
                const gameCard = document.querySelector(`[data-game="${game}"]`);
                
                if (statusElement && gameCard) {
                    if (localStorage.getItem(statusMap[game]) === 'true') {
                        statusElement.textContent = 'å·²å®Œæˆ';
                        statusElement.style.background = 'linear-gradient(135deg, #28a745, #20c997)';
                        gameCard.classList.add('completed');
                    } else {
                        statusElement.textContent = 'æœªå®Œæˆ';
                        statusElement.style.background = 'linear-gradient(135deg, #6c757d, #495057)';
                    }
                }
            });
            
            // è®¡ç®—æ€»ä½“è¿›åº¦
            const completedGames = games.filter(game => localStorage.getItem(statusMap[game]) === 'true').length;
            const totalGames = games.length;
            const progress = Math.round((completedGames / totalGames) * 100);
            
            // æ›´æ–°è¿›åº¦æ˜¾ç¤º
            const progressElement = document.querySelector('.progress-info');
            if (progressElement) {
                progressElement.textContent = `æ¸¸æˆè¿›åº¦: ${completedGames}/${totalGames} (${progress}%)`;
            }
        }
        
        // é¡µé¢åŠ è½½æ—¶æ›´æ–°çŠ¶æ€
        document.addEventListener('DOMContentLoaded', function() {
            updateGameStatus();
            
            // æ·»åŠ è¿›åº¦ä¿¡æ¯
            const header = document.querySelector('header');
            const progressInfo = document.createElement('div');
            progressInfo.className = 'progress-info';
            progressInfo.style.cssText = `
                background: linear-gradient(135deg, #17a2b8, #138496);
                color: white;
                padding: 10px 20px;
                border-radius: 25px;
                margin-top: 15px;
                font-weight: bold;
                text-align: center;
            `;
            header.appendChild(progressInfo);
            
            updateGameStatus(); // å†æ¬¡è°ƒç”¨ä»¥æ›´æ–°è¿›åº¦ä¿¡æ¯
        });
    </script>
</body>
</html>